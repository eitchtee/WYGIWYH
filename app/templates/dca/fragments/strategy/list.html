{% load i18n %}
<div class="tw:container tw:px-md-3 tw:py-3 tw:column-gap-5">
  <div class="tw:text-3xl tw:font-bold tw:font-mono tw:w-full tw:mb-3">
    {% spaceless %}
      <div>{% translate 'Dollar Cost Average Strategies' %}<span>
      <a class="tw:no-underline tw:text-2xl tw:p-1 category-action"
         role="button"
         data-bs-toggle="tooltip"
         data-bs-title="{% translate "Add" %}"
         hx-get="{% url 'dca_strategy_add' %}"
         hx-target="#generic-offcanvas">
            <i class="fa-solid fa-circle-plus fa-fw"></i></a>
    </span></div>
    {% endspaceless %}
  </div>

  <div class="tw:grid tw:grid-cols-1 tw:md:grid-cols-2 tw:lg:grid-cols-3 tw:xl:grid-cols-4 tw:gap-3">
    {% for strategy in strategies %}
      <div>
        <div class="tw:card tw:bg-base-100 tw:shadow-xl tw:h-full tw:flex tw:flex-col">
          <div class="tw:card-header tw:bg-base-200 tw:p-4">
            <span class="tw:badge tw:badge-secondary tw:rounded-full">{{ strategy.payment_currency.name }}</span> x <span
              class="tw:badge tw:badge-secondary tw:rounded-full">{{ strategy.target_currency.name }}</span>
          </div>
          <a href="{% url 'dca_strategy_detail_index' strategy_id=strategy.id %}" hx-boost="true"
             class="tw:no-underline tw:card-body tw:flex-1">
            <div class="">
              <div class="tw:card-title tw:text-xl">{{ strategy.name }}</div>
              <div class="tw:text-base-content/60">{{ strategy.notes }}</div>
            </div>
          </a>
          <div class="tw:card-footer tw:bg-base-200 tw:p-4 tw:text-right">
            <a class="tw:no-underline tw:text-base-content/60 tw:p-1"
               role="button"
               data-bs-toggle="tooltip"
               data-bs-title="{% translate "Edit" %}"
               hx-get="{% url 'dca_strategy_edit' strategy_id=strategy.id %}"
               hx-target="#generic-offcanvas">
              <i class="fa-solid fa-pencil fa-fw"></i>
            </a>
            <a class="tw:text-error tw:no-underline tw:p-1"
               role="button"
               data-bs-toggle="tooltip"
               data-bs-title="{% translate "Delete" %}"
               hx-delete="{% url 'dca_strategy_delete' strategy_id=strategy.id %}"
               hx-trigger='confirmed'
               data-bypass-on-ctrl="true"
               data-title="{% translate "Are you sure?" %}"
               data-text="{% translate "You won't be able to revert this!" %}"
               data-confirm-text="{% translate "Yes, delete it!" %}"
               _="install prompt_swal">
              <i class="fa-solid fa-trash fa-fw"></i>
            </a>
            {% if not strategy.owner %}
              <a class="tw:text-primary tw:no-underline tw:p-1"
                 role="button"
                 data-bs-toggle="tooltip"
                 data-bs-title="{% translate "Take ownership" %}"
                 hx-get="{% url 'dca_strategy_take_ownership' strategy_id=strategy.id %}">
                <i class="fa-solid fa-crown fa-fw"></i></a>
            {% endif %}
            {% if user == strategy.owner %}
              <a class="tw:text-primary tw:no-underline tw:p-1"
                 role="button"
                 hx-target="#generic-offcanvas"
                 data-bs-toggle="tooltip"
                 data-bs-title="{% translate "Share" %}"
                 hx-get="{% url 'dca_strategy_share_settings' pk=strategy.id %}">
                <i class="fa-solid fa-share fa-fw"></i></a>
            {% endif %}
          </div>
        </div>
      </div>
    {% endfor %}
  </div>
</div>
